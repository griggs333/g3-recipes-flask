{% extends 'base.html' %}

{% block head %}
<title>Recipes Boi</title>
{% endblock %}

{% block body %}

<!--Recipe content-->
<div class="rec-view">
    <div class="recipe_header">
       <form>
           <label for="name">Name: </label>
           <input type="text" id="name" name="name" value="{{ recipe.name }}">
       </form>
    </div>

    <div class="rec_author">
        <h3 class="rec_byline">By <a href="{{ publisher[1] }}">{{ publisher[0] }}</a></h3>
    </div>
    <div class="rec_date">
        <span class="rec_dateModified">Date Modified: {{ recipe.dateModified }}</span>
    </div>
    <div class="rec_rate">
        <span class="rec_rating">Rating: {{ recipe.rating }}</span>
    </div>
    <div class="rec_times">
        <div class="rec_times_table">
            <table>
                <tr>
                    <th>Prep Time</th>
                    <th>Cook Time</th>
                    <th>Total Time</th>
                </tr>
                <tr>
                    <td>{{ recipe.prepTime }}</td>
                    <td>{{ recipe.cookTime }}</td>
                    <td>{{ recipe.totalTime }}</td>
                </tr>

            </table>

        </div>

    </div>
    <div class="rec_yield-container">
        <span class="rec_yield">Yield: {{ recipe.recYield }}</span>
    </div>

    <div class="rec_ingredients-container">
        <h3 class="rec_ingredients-headline">Ingredients</h3>
        <hr>
        <div class="rec_ingredients-list-container" contenteditable="True">
            <ul class="rec_ingredients-list">
                {% for items in ingredients %}
                    <li class="rec_ingredients-item">{{  items  }}</li>
                {% endfor %}
            </ul>

        </div>

    </div>

    <div class="rec_instructions-container">
        <h3 class="rec_instructions-headline">Instruction</h3>
        <hr>
        <div class="rec_instructions-list-container">
            <ol class="'ingredients-list">
                {% for items in instructions %}
                    {% if items.get('@type') == 'HowToStep' %}
                        <li class="instructions-step-text">{{  items.get('text')  }}</li>
                    {% elif items.get('@type') == 'HowToSection' %}
                        <h5 class="instructions-section-name">{{  items.get('name')  }}</h5>
                        {% if 'itemListElement' in items.keys() %}
                            {% for elements in items.get('itemListElement') %}
                                <li class="instructions-step-text-section">{{  elements.get('text')  }} </li>
                            {% endfor %}
                        {% endif %}
                    {% endif %}

                {% endfor %}
            </ol>

        </div>

    </div>

    <p>{{ recipe }} {{ recipetype }}</p>
    <form action="/commit_recipe/{{ recipe }}" method="POST">
        <input type="submit" value="Commit Recipe">
    </form>

</div>
{%endblock%}  